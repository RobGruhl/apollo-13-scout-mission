<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive Apollo 13 mission experience for scouts. Experience NASA's greatest rescue mission through key decisions and critical moments.">
    <meta name="keywords" content="Apollo 13, NASA, space, scouts, jamboree, education, interactive">
    <title>Apollo 13: A Successful Failure - Interactive Experience</title>

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Open Graph for sharing -->
    <meta property="og:title" content="Apollo 13 Interactive Experience">
    <meta property="og:description" content="Walk through NASA's most famous rescue mission. Make critical decisions and learn from the crew's heroic journey home.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://robgruhl.github.io/apollo-13-scout-mission/">
</head>
<body class="landing">
    <!-- Hero Section -->
    <section class="hero">
        <img src="assets/images/mission-patch.jpg" alt="Apollo 13 Mission Patch" width="300" height="300">
        <h1>Apollo 13: A Successful Failure</h1>
        <p class="tagline">Experience NASA's greatest rescue mission through interactive storytelling and critical decision-making</p>
    </section>

    <!-- Shared Score Celebration Card (shown when URL has parameters) -->
    <section id="sharedScoreCard" class="container" style="display: none; padding: 2rem 1rem; max-width: 600px; margin: 2rem auto;">
        <div style="background: linear-gradient(135deg, #0B3D91 0%, #1a5db8 100%); color: white; padding: 3rem 2rem; border-radius: 12px; text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
            <div id="sharedRankEmoji" style="font-size: 5rem; margin-bottom: 1rem;">🏆</div>
            <h2 style="color: white; font-size: 1.75rem; margin-bottom: 0.5rem;">
                <span id="sharedScoutName">Scout</span> from <span id="sharedTroopNumber">Troop</span>
            </h2>
            <p style="font-size: 1.125rem; margin-bottom: 1.5rem; opacity: 0.95;">completed the Apollo 13 mission!</p>

            <div style="background: rgba(255,255,255,0.15); padding: 2rem 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; backdrop-filter: blur(10px);">
                <p style="font-size: 1rem; margin-bottom: 0.5rem; opacity: 0.9;">Rank Achieved</p>
                <h3 id="sharedRank" style="color: white; font-size: 2rem; margin-bottom: 1rem;">Mission Commander</h3>
                <p style="font-size: 3rem; font-weight: 700; margin-bottom: 0.5rem; color: white;">
                    <span id="sharedScore">4</span>/<span id="sharedTotal">4</span>
                </p>
                <p style="font-size: 0.875rem; opacity: 0.85;">Correct Decisions</p>
            </div>

            <p style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem;">Can you match their score?</p>

            <button onclick="startNewMission()" class="btn-primary" style="background: white; color: #0B3D91; font-weight: 700; padding: 1rem 2rem; border: none; border-radius: 8px; cursor: pointer; font-size: 1.125rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2); transition: transform 0.2s;">
                🚀 Start My Mission
            </button>
        </div>
    </section>

    <!-- Default Landing Content (hidden when shared score is shown) -->
    <div id="defaultLandingContent">
    <!-- Mission Stats -->
    <section class="mission-stats">
        <div class="stat">
            <span class="stat-icon">🚀</span>
            <span class="stat-value">5 days, 22 hours</span>
            <span class="stat-label">Mission Duration</span>
        </div>
        <div class="stat">
            <span class="stat-icon">⚡</span>
            <span class="stat-value">200,000 miles</span>
            <span class="stat-label">Distance at Crisis</span>
        </div>
        <div class="stat">
            <span class="stat-icon">🎯</span>
            <span class="stat-value">10 Decisions</span>
            <span class="stat-label">Critical Choices</span>
        </div>
        <div class="stat">
            <span class="stat-icon">🏆</span>
            <span class="stat-value">3 Lives Saved</span>
            <span class="stat-label">Safe Return</span>
        </div>
    </section>

    <!-- Mission Overview -->
    <section class="container" style="padding: 3rem 1rem; max-width: 800px; margin: 0 auto;">
        <h2 style="text-align: center; margin-bottom: 2rem;">The Mission</h2>
        <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 1rem;">
            On <strong>April 11, 1970</strong>, three astronauts—Jim Lovell, Jack Swigert, and Fred Haise—launched aboard Apollo 13 with one goal: land on the Moon and return safely to Earth.
        </p>
        <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 1rem;">
            <strong>56 hours into the mission</strong>, an oxygen tank exploded 200,000 miles from Earth. The lunar landing was abandoned. The new mission: survive and return home.
        </p>
        <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">
            This interactive experience puts you in the shoes of the crew and Mission Control. You'll face <strong>10 critical decisions</strong> that determined whether the astronauts lived or died. Will you make the same choices NASA did?
        </p>

        <div style="background: #FFF9C4; border-left: 4px solid #FFA000; padding: 1.5rem; border-radius: 8px; margin: 2rem 0;">
            <h3 style="color: #000; margin-bottom: 1rem;">🎪 2026 Elevate Scout Jamboree</h3>
            <p style="margin-bottom: 0.5rem;"><strong>NASA Tent - Apollo Table</strong></p>
            <p style="margin-bottom: 0;">Presented by <strong>Ed Gruhl</strong>, Scout District Commissioner<br>Glacial Trails District</p>
        </div>

        <div style="background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%); border: 2px solid #0B3D91; padding: 2rem; border-radius: 8px; margin: 2rem 0;">
            <h3 style="color: #0B3D91; margin-bottom: 1rem; text-align: center;">💻 Built with Code • Earn Merit Badges! 🏕️</h3>
            <div style="display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                <div>
                    <h4 style="color: #0B3D91; margin-bottom: 0.5rem;">🖥️ Real Web Development</h4>
                    <p style="font-size: 0.875rem; line-height: 1.6; margin: 0;">
                        This entire experience is built with <strong>HTML, CSS, and JavaScript</strong> - the same code professional developers use. View the source code, learn how it works, and modify it yourself!
                    </p>
                </div>
                <div>
                    <h4 style="color: #0B3D91; margin-bottom: 0.5rem;">🏆 Earn 3 Merit Badges</h4>
                    <p style="font-size: 0.875rem; line-height: 1.6; margin: 0;">
                        Use this project to help complete requirements for <strong>Programming</strong>, <strong>Digital Technology</strong>, and <strong>Space Exploration</strong> merit badges. The code is open source (MIT License) - free to explore and learn from!
                    </p>
                </div>
            </div>
            <p style="text-align: center; margin-top: 1.5rem; margin-bottom: 0;">
                <a href="slides/31-merit-badges.html" style="color: #0B3D91; font-weight: 600; text-decoration: underline;">Learn more about earning merit badges with this project →</a>
            </p>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta">
        <h2 style="margin-bottom: 2rem;">Ready to Save Apollo 13?</h2>
        <div class="cta-buttons">
            <a href="slides/01-launch.html" class="btn-primary">🚀 Start Mission</a>
            <a href="timeline.html" class="btn-secondary">📅 View Timeline</a>
            <a href="slides/31-merit-badges.html" class="btn-secondary">🏕️ Earn Merit Badges</a>
        </div>
        <p style="margin-top: 2rem; color: #666; font-size: 0.875rem;">
            Estimated time: 20-30 minutes | Works on any device | No account required
        </p>
    </section>
    </div><!-- End defaultLandingContent -->

    <!-- Footer -->
    <footer style="background: #0B3D91; color: white; padding: 2rem 1rem; text-align: center;">
        <p style="margin-bottom: 0.5rem;">
            <strong>Apollo 13 Interactive Experience</strong>
        </p>
        <p style="font-size: 0.875rem; opacity: 0.9; margin-bottom: 1rem;">
            Educational content based on NASA historical records and mission transcripts
        </p>
        <p style="font-size: 0.875rem; opacity: 0.85; margin-bottom: 1rem;">
            Images and mission content courtesy of NASA. NASA materials are generally in the public domain and used in accordance with NASA's media usage guidelines for educational purposes.
        </p>
        <p style="font-size: 0.875rem; opacity: 0.8;">
            Created for Scouting America • 2026 Elevate Scout Jamboree
        </p>
        <!-- Hidden reset button -->
        <button id="resetButton" style="background: none; border: none; font-size: 1.2rem; opacity: 0.3; cursor: pointer; margin-top: 1rem; transition: opacity 0.3s; color: white;" title="Reset all progress">
            🔄
        </button>
    </footer>

    <!-- JavaScript -->
    <script src="assets/js/app.js"></script>
    <script>
        // Check for shared score on page load
        document.addEventListener('DOMContentLoaded', () => {
            const sharedParams = getURLParams();

            if (sharedParams) {
                // Show shared score card, hide default content
                displaySharedScore(sharedParams);
                document.getElementById('sharedScoreCard').style.display = 'block';
                document.getElementById('defaultLandingContent').style.display = 'none';
            } else {
                // Show default content, hide shared score card
                document.getElementById('sharedScoreCard').style.display = 'none';
                document.getElementById('defaultLandingContent').style.display = 'block';
            }
        });

        function displaySharedScore(params) {
            // Populate celebration card with shared scout's data
            document.getElementById('sharedScoutName').textContent = params.name;
            document.getElementById('sharedTroopNumber').textContent = params.troop;
            document.getElementById('sharedScore').textContent = params.score;
            document.getElementById('sharedTotal').textContent = params.total;
            document.getElementById('sharedRank').textContent = params.rank || 'Scout';

            // Get rank details to set emoji and styling
            const rankDetails = getRankDetails(params.score, params.total);
            document.getElementById('sharedRankEmoji').textContent = rankDetails.emoji;
        }

        function getRankDetails(score, total) {
            const percentage = (score / total) * 100;

            if (percentage === 100) {
                return { emoji: '🏆' };
            } else if (percentage >= 75) {
                return { emoji: '⭐' };
            } else if (percentage >= 50) {
                return { emoji: '🎯' };
            } else {
                return { emoji: '📡' };
            }
        }

        // Reset button functionality
        document.getElementById('resetButton').addEventListener('click', () => {
            if (confirm('⚠️ Reset all progress?\n\nThis will clear:\n• All decision choices\n• All visited slides\n• All localStorage data\n\nThis cannot be undone!')) {
                // Clear all localStorage
                localStorage.clear();

                // Show confirmation
                const button = document.getElementById('resetButton');
                button.textContent = '✅';
                button.style.opacity = '1';

                setTimeout(() => {
                    button.textContent = '🔄';
                    button.style.opacity = '0.3';
                    alert('✅ Progress reset!\n\nAll decisions and visited slides have been cleared.');
                    // Reload page to show fresh state
                    window.location.reload();
                }, 1000);
            }
        });

        // Hover effect for reset button
        document.getElementById('resetButton').addEventListener('mouseenter', function() {
            this.style.opacity = '0.8';
        });
        document.getElementById('resetButton').addEventListener('mouseleave', function() {
            this.style.opacity = '0.3';
        });
    </script>
</body>
</html>
